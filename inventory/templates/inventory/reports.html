{% extends "base.html" %}
{% load static %}

{% block title %}Reports - Django Delights{% endblock %}

{% block content %}
    <div class="container mt-4">
        <h2 class="text-center">Business Reports</h2>
        <br/>

        <!-- Total Inventory Cost -->
        <div class="alert alert-info">
            <h4>Total Inventory Cost:</h4>
            <p><strong>${{ total_inventory_cost|floatformat:2 }}</strong></p>
        </div>

        <!-- Total Revenue for Today -->
        <div class="alert alert-success">
            <h4>Total Revenue for Today:</h4>
            <p><strong>${{ total_revenue|floatformat:2 }}</strong></p>
        </div>

        <!-- Total Profit for Today -->
        <div class="alert alert-warning">
            <h4>Total Profit for Today:</h4>
            <p><strong>${{ total_profit|floatformat:2 }}</strong></p>
        </div>

        <!-- Today's Purchase History -->
        <h3 class="mt-4">Today's Purchase History</h3>
        <table class="table table-striped mt-3">
            <thead>
                <tr>
                    <th>Menu Item</th>
                    <th>Price</th>
                    <th>Purchase Time</th>
                </tr>
            </thead>
            <tbody>
                {% for purchase in purchases_today %}
                <tr>
                    <td>{{ purchase.menu_item.name }}</td>
                    <td>${{ purchase.menu_item.price }}</td>
                    <td>{{ purchase.timestamp }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="text-center">No purchases made today.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
